<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Game Sheet</name>
    <events>
        <variable constant="0" name="BPM" sid="780472202489529" static="0" type="number">0</variable>
        <variable constant="0" name="QuarterBeat" sid="709202548932259" static="0" type="number">0</variable>
        <variable constant="0" name="Beat" sid="268364450095339" static="0" type="number">0</variable>
        <include>Constants</include>
        <variable constant="0" name="EnemyMovementX" sid="279816840738825" static="0" type="number">30</variable>
        <variable constant="0" name="EnemyMovementY" sid="488648482265942" static="0" type="number">30</variable>
        <variable constant="0" name="EnemyMovementDelay" sid="934053903123312" static="0" type="number">1</variable>
        <event-block sid="483433578577176">
            <conditions>
                <condition id="-2" name="On start of layout" sid="820646670031824" type="System" />
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="735892962504753" type="PaintSplatter" />
                <action id="-9" name="Destroy" sid="817083974456999" type="PaintBlob" />
                <action id="101" name="Create global camera" sid="473662862920717" type="MagiCam">
                    <param id="0" name="Name">&quot;MainCamera&quot;</param>
                    <param id="1" name="X">500</param>
                    <param id="2" name="Y">750</param>
                    <param id="3" name="Scale">1</param>
                    <param id="4" name="Active">1</param>
                </action>
                <action id="0" name="Play" sid="416625436286807" type="Audio">
                    <param id="0" name="Audio file">548676_Drop---LoveKavi</param>
                    <param id="2" name="Loop">0</param>
                    <param id="3" name="Volume">0</param>
                    <param id="1" name="Tag (optional)">MUSIC_TAG</param>
                </action>
                <action id="-9" name="Set value" sid="827732835061060" type="System">
                    <param id="0" name="Variable">BPM</param>
                    <param id="1" name="Value">Effects_BPM</param>
                </action>
            </actions>
        </event-block>
        <event-group description="" sid="239667514127032" title="Enemy">
            <sub-events>
                <event-block sid="710666103572885">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="306314706609349" type="Enemy">
                            <param id="0" name="Object">Barrier</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="687601109093542" type="System" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="178788768457611">
                            <conditions>
                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="592316754868246" type="Enemy">
                                    <param id="0" name="Instance variable">IsDead</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="228544283390259">
                                    <conditions>
                                        <condition id="-19" name="Pick all" sid="483840163968829" type="System">
                                            <param id="0" name="Object">Enemy</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-14" name="Toggle boolean" sid="187551079272142" type="Enemy">
                                            <param id="0" name="Instance variable">MovingLeft</param>
                                        </action>
                                        <action id="-2" name="Set Y" sid="693652229410545" type="Enemy">
                                            <param id="0" name="Y">Enemy.Y + EnemyMovementY</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="452317390348153">
                                    <conditions />
                                    <actions>
                                        <action disabled="1" id="-11" name="Subtract from" sid="844097021248997" type="System">
                                            <param id="0" name="Variable">EnemyMovementDelay</param>
                                            <param id="1" name="Value">0.1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="222713868108702">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="663646045178285" type="System">
                            <param id="0" name="First value">Audio.PlaybackTime(MUSIC_TAG)</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="886936606925198" type="System">
                            <param id="0" name="Variable">QuarterBeat</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="959439359644521" type="System" />
                    </conditions>
                    <actions>
                        <action id="5" name="Set frame" sid="974226753715175" type="Enemy">
                            <param id="0" name="Frame number">0</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="831691272340787">
                            <conditions>
                                <condition id="-8" name="Is boolean instance variable set" sid="790119988111563" type="Enemy">
                                    <param id="0" name="Instance variable">MovingLeft</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-1" name="Set X" sid="947596880894548" type="Enemy">
                                    <param id="0" name="X">Enemy.X - EnemyMovementX</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="260324206187555">
                            <conditions>
                                <condition id="-22" name="Else" sid="193514114256581" type="System" />
                            </conditions>
                            <actions>
                                <action id="-1" name="Set X" sid="554278395802626" type="Enemy">
                                    <param id="0" name="X">Enemy.X + EnemyMovementX</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="213922042074379">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="123652847572793" type="System">
                            <param id="0" name="First value">Audio.PlaybackTime(MUSIC_TAG)</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="860396982197810" type="System">
                            <param id="0" name="Variable">QuarterBeat</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">3</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="165849124862630" type="System" />
                    </conditions>
                    <actions>
                        <action id="5" name="Set frame" sid="425629408908140" type="Enemy">
                            <param id="0" name="Frame number">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="533953308322168" title="Player Controls">
            <sub-events>
                <event-block sid="160858177765781">
                    <conditions>
                        <condition id="2" name="Key is down" sid="137008873886459" type="Keyboard">
                            <param id="0" name="Key">32 (Space)</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="520015205492497" type="Player">
                            <param id="0" name="Instance variable">isFiring</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="522371395618970" type="Player">
                            <param id="0" name="Object">PlayerBullet</param>
                            <param id="1" name="Layer">&quot;Player&quot;</param>
                            <param id="2" name="Image point">&quot;Bullet&quot;</param>
                        </action>
                        <action id="-8" name="Set angle" sid="810400926691328" type="PlayerBullet">
                            <param id="0" name="Angle">270</param>
                        </action>
                        <action behavior="BulletTimer" id="0" name="Start timer" sid="290977534355037" type="Player">
                            <param id="0" name="Duration">1.25</param>
                            <param id="1" name="Type">0</param>
                            <param id="2" name="Tag">&quot;PlayerBulletTimer&quot;</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="941668268562676" type="Player">
                            <param id="0" name="Instance variable">isFiring</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="772163994524846">
                    <conditions>
                        <condition behavior="BulletTimer" id="0" name="On timer" sid="697875161563584" type="Player">
                            <param id="0" name="Tag">&quot;PlayerBulletTimer&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-13" name="Set boolean" sid="110591266104534" type="Player">
                            <param id="0" name="Instance variable">isFiring</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="873619546028436" title="BulletCollisions">
            <sub-events>
                <event-block sid="614245252424459">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="136512065552765" type="PlayerBullet">
                            <param id="0" name="Object">Enemy</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="271267704672115" type="Function">
                            <param id="0" name="Name">&quot;SetTimeScale&quot;</param>
                            <param id="1" name="Parameter {n}">0.1</param>
                        </action>
                        <action id="-16" name="Wait" sid="414894724516691" type="System">
                            <param id="0" name="Seconds">0.25</param>
                        </action>
                        <action id="0" name="Call function" sid="829219939894405" type="Function">
                            <param id="0" name="Name">&quot;SetTimeScale&quot;</param>
                            <param id="1" name="Parameter {n}">1.0</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="897286652469891">
                            <conditions>
                                <condition id="-1" name="Compare X" sid="910583724419901" type="PlayerBullet">
                                    <param id="0" name="Comparison">3</param>
                                    <param id="1" name="X co-ordinate">Enemy.X</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="LiteTween" id="3" name="Set target" sid="933436250790605" type="Enemy">
                                    <param id="0" name="Target is">0</param>
                                    <param id="1" name="Relativity">1</param>
                                    <param id="2" name="Value">distance(PlayerBullet.X, PlayerBullet.Y, Enemy.X, Enemy.Y)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="654854781799900">
                            <conditions>
                                <condition id="-22" name="Else" sid="398598672087584" type="System" />
                            </conditions>
                            <actions>
                                <action behavior="LiteTween" id="3" name="Set target" sid="221788825588792" type="Enemy">
                                    <param id="0" name="Target is">0</param>
                                    <param id="1" name="Relativity">1</param>
                                    <param id="2" name="Value">- distance(PlayerBullet.X, PlayerBullet.Y, Enemy.X, Enemy.Y)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="185239776426733">
                            <conditions />
                            <actions>
                                <action id="0" name="Call function" sid="806916875452124" type="Function">
                                    <param id="0" name="Name">&quot;SpawnPaintExplosion&quot;</param>
                                    <param id="1" name="Parameter {n}">Enemy.EnemyType{###}&quot;Enemy&quot;{###}Enemy.X{###}Enemy.Y{###}-150{###}150{###}-50{###}-250{###}round(random(3, 7))</param>
                                </action>
                                <action id="400" name="Shake camera" sid="920124835751117" type="MagiCam">
                                    <param id="0" name="Name">&quot;MainCamera&quot;</param>
                                    <param id="1" name="Strength">30</param>
                                    <param id="2" name="Max deviation">20</param>
                                    <param id="3" name="Max zoom deviation">0.25</param>
                                    <param id="4" name="Build length">0</param>
                                    <param id="5" name="Drop time">0.2</param>
                                    <param id="6" name="Duration">0.2</param>
                                </action>
                                <action id="-9" name="Destroy" sid="435555661975110" type="Enemy" />
                                <action id="-9" name="Destroy" sid="402650112634758" type="PlayerBullet" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="531481434279367">
                    <conditions>
                        <condition behavior="LiteTween" id="4" name="On tween end" sid="804022834944175" type="PaintBlob" />
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="932927138833598" type="Function">
                            <param id="0" name="Name">&quot;SpawnPaintSplatter&quot;</param>
                            <param id="1" name="Parameter {n}">PaintBlob.OriginType{###}PaintBlob.X{###}PaintBlob.Y{###}round(random(0, 360))</param>
                        </action>
                        <action id="-9" name="Destroy" sid="833339835949643" type="PaintBlob" />
                    </actions>
                    <sub-events>
                        <event-block sid="657175780061350">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="888729188950096" type="System">
                                    <param id="0" name="Variable">MAX_SPLATTER_COUNT</param>
                                    <param id="1" name="Comparison">2</param>
                                    <param id="2" name="Value">PaintSplatter.Count</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="962727911678224" type="Function">
                                    <param id="0" name="Name">&quot;DestroySplatters&quot;</param>
                                    <param id="1" name="Parameter {n}">4</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="391395680988420">
                    <conditions>
                        <condition behavior="FadeTween" id="4" name="On tween end" sid="858257119598133" type="PaintSplatter" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="367763491302108" type="PaintSplatter" />
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="518813958392491" title="Functions">
            <sub-events>
                <comment>// void SetTimeScale(timeScale)</comment>
                <event-block sid="496714340627382">
                    <conditions>
                        <condition id="0" name="On function" sid="930800632243103" type="Function">
                            <param id="0" name="Name">&quot;SetTimeScale&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-14" name="Set object time scale" sid="916854459117189" type="System">
                            <param id="0" name="Object">Player</param>
                            <param id="1" name="Time scale">Function.Param(0)</param>
                        </action>
                        <action id="-14" name="Set object time scale" sid="467144585712253" type="System">
                            <param id="0" name="Object">Enemy</param>
                            <param id="1" name="Time scale">Function.Param(0)</param>
                        </action>
                        <action id="-14" name="Set object time scale" sid="976898740175779" type="System">
                            <param id="0" name="Object">PlayerBullet</param>
                            <param id="1" name="Time scale">Function.Param(0)</param>
                        </action>
                        <action id="-14" name="Set object time scale" sid="157891104642029" type="System">
                            <param id="0" name="Object">Enemy1_Bullet</param>
                            <param id="1" name="Time scale">Function.Param(0)</param>
                        </action>
                        <action id="-14" name="Set object time scale" sid="661889340326540" type="System">
                            <param id="0" name="Object">Enemy2_Bullet</param>
                            <param id="1" name="Time scale">Function.Param(0)</param>
                        </action>
                        <action id="-14" name="Set object time scale" sid="500125101393559" type="System">
                            <param id="0" name="Object">Enemy3_Bullet</param>
                            <param id="1" name="Time scale">Function.Param(0)</param>
                        </action>
                    </actions>
                </event-block>
                <comment>// void SpawnSplatter(type, layer, xPosition, yPosition, xDirectionMin, xDirectionMax, yDirectionMin, yDirectionMax, count)</comment>
                <event-block sid="662510485370022">
                    <conditions>
                        <condition id="0" name="On function" sid="844660333832303" type="Function">
                            <param id="0" name="Name">&quot;SpawnPaintExplosion&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="789399841261129">
                            <conditions>
                                <condition id="-10" name="For" sid="821526719401971" type="System">
                                    <param id="0" name="Name">&quot;SpawnLoop&quot;</param>
                                    <param id="1" name="Start index">0</param>
                                    <param id="2" name="End index">Function.Param(8)</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="891567302362528">
                                    <conditions />
                                    <actions>
                                        <action id="-3" name="Create object" sid="284306530564688" type="System">
                                            <param id="0" name="Object to create">PaintBlob</param>
                                            <param id="1" name="Layer">Function.Param(1)</param>
                                            <param id="2" name="X">Function.Param(2)</param>
                                            <param id="3" name="Y">Function.Param(3)</param>
                                        </action>
                                        <action id="4" name="Set animation" sid="283355349936201" type="PaintBlob">
                                            <param id="0" name="Animation">&quot;blob&quot; &amp; Function.Param(0)</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="192420239491789" type="PaintBlob">
                                            <param id="0" name="Instance variable">OriginType</param>
                                            <param id="1" name="Value">Function.Param(0)</param>
                                        </action>
                                        <action behavior="LiteTween" id="3" name="Set target" sid="281733357292316" type="PaintBlob">
                                            <param id="0" name="Target is">0</param>
                                            <param id="1" name="Relativity">1</param>
                                            <param id="2" name="Value">round(random(Function.Param(4), Function.Param(5)))</param>
                                        </action>
                                        <action behavior="LiteTween" id="3" name="Set target" sid="992340677596608" type="PaintBlob">
                                            <param id="0" name="Target is">1</param>
                                            <param id="1" name="Relativity">1</param>
                                            <param id="2" name="Value">round(random(Function.Param(6), Function.Param(7)))</param>
                                        </action>
                                        <action behavior="LiteTween" id="1" name="Set duration" sid="666128608828170" type="PaintBlob">
                                            <param id="0" name="Duration">random(0.25, 0.55)</param>
                                        </action>
                                        <action behavior="LiteTween" id="10" name="Start" sid="501698396024711" type="PaintBlob">
                                            <param id="0" name="Start Mode">0</param>
                                            <param id="1" name="Force use current">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>// void SpawnSplatter(type, xPosition, yPosition, rotation)</comment>
                <event-block sid="959222077641584">
                    <conditions>
                        <condition id="0" name="On function" sid="467209305136119" type="Function">
                            <param id="0" name="Name">&quot;SpawnPaintSplatter&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <variable constant="0" name="PaintSplatterIndex" sid="738407397410166" static="0" type="number">0</variable>
                        <event-block sid="720747094366870">
                            <conditions />
                            <actions>
                                <action id="-9" name="Set value" sid="841551400178525" type="System">
                                    <param id="0" name="Variable">PaintSplatterIndex</param>
                                    <param id="1" name="Value">round(random(0, 3))</param>
                                </action>
                                <action id="-3" name="Create object" sid="193847116225188" type="System">
                                    <param id="0" name="Object to create">PaintSplatter</param>
                                    <param id="1" name="Layer">&quot;Paint&quot;</param>
                                    <param id="2" name="X">Function.Param(1)</param>
                                    <param id="3" name="Y">Function.Param(2)</param>
                                </action>
                                <action id="4" name="Set animation" sid="697409214757411" type="PaintSplatter">
                                    <param id="0" name="Animation">&quot;splatter&quot; &amp; Function.Param(0) &amp; PaintSplatterIndex</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="-8" name="Set angle" sid="434407175183698" type="PaintSplatter">
                                    <param id="0" name="Angle">Function.Param(3)</param>
                                </action>
                                <action id="5" name="Push" sid="380224506684371" type="SplatterArray">
                                    <param id="0" name="Where">0</param>
                                    <param id="1" name="Value">PaintSplatter.UID</param>
                                    <param id="2" name="Axis">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>// void DestroySplatters(count)</comment>
                <event-block sid="650708185503335">
                    <conditions>
                        <condition id="0" name="On function" sid="882505267754753" type="Function">
                            <param id="0" name="Name">&quot;DestroySplatters&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="721861324300919">
                            <conditions>
                                <condition id="-10" name="For" sid="577354846256510" type="System">
                                    <param id="0" name="Name">&quot;DestroySplatterLoop&quot;</param>
                                    <param id="1" name="Start index">1</param>
                                    <param id="2" name="End index">Function.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <variable constant="0" name="SplatterUID" sid="472325793520092" static="0" type="number">0</variable>
                                <event-block sid="896649936470573">
                                    <conditions />
                                    <actions>
                                        <action id="-9" name="Set value" sid="540801869352491" type="System">
                                            <param id="0" name="Variable">SplatterUID</param>
                                            <param id="1" name="Value">SplatterArray.Front</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="153118090202473">
                                    <conditions>
                                        <condition id="-14" name="Pick by unique ID" sid="212870524007187" type="PaintSplatter">
                                            <param id="0" name="Unique ID">SplatterUID</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="FadeTween" id="10" name="Start" sid="779112265417971" type="PaintSplatter">
                                            <param id="0" name="Start Mode">0</param>
                                            <param id="1" name="Force use current">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="143802685771219">
                                    <conditions />
                                    <actions>
                                        <action id="6" name="Pop" sid="282781949961836" type="SplatterArray">
                                            <param id="0" name="Where">1</param>
                                            <param id="1" name="Axis">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="579344744856599" title="Audio">
            <sub-events>
                <event-block sid="207849476029904">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="410163063749096" type="System">
                            <param id="0" name="First value">Audio.PlaybackTime(MUSIC_TAG)</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Second value">Beat*(60/BPM)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Add to" sid="222105208969706" type="System">
                            <param id="0" name="Variable">Beat</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-9" name="Set value" sid="765762686396762" type="System">
                            <param id="0" name="Variable">QuarterBeat</param>
                            <param id="1" name="Value">(QuarterBeat + 1) % 4</param>
                        </action>
                    </actions>
                </event-block>
                <event-block disabled="1" sid="281025720278102">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="710632025812736" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Set text" sid="558256395186500" type="DebugText">
                            <param id="0" name="Text">&quot;Beat: &quot; &amp; Beat &amp; newline &amp; &quot;QuarterBeat: &quot; &amp; QuarterBeat &amp; newline</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
